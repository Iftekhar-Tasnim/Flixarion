{
    "info": {
        "name": "Flixarion API",
        "description": "Flixarion Backend API\n\nBase URL: http://127.0.0.1:8000/api\n\nAdmin credentials:\n  Email: admin@flixarion.com\n  Password: password123\n\nWorkflow:\n1. Run 'Auth → Admin Login' to populate {{admin_token}}\n2. Run 'Admin → Sources → Test All' to check server health\n3. Run 'Admin → Sources → Scan All' to scrape all active servers",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "base_url",
            "value": "http://127.0.0.1:8000/api",
            "type": "string"
        },
        {
            "key": "token",
            "value": "",
            "type": "string"
        },
        {
            "key": "admin_token",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "Auth",
            "description": "Authenticate and get tokens. Run 'Admin Login ★' first.",
            "item": [
                {
                    "name": "Register (New User)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/auth/register",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Test User\",\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "type": "text/javascript",
                                "exec": [
                                    "const res = pm.response.json();",
                                    "pm.test('Status 201', () => pm.response.to.have.status(201));",
                                    "pm.test('Has token', () => pm.expect(res.data.token).to.be.a('string'));",
                                    "if (res.data && res.data.token) pm.collectionVariables.set('token', res.data.token);"
                                ]
                            }
                        }
                    ]
                },
                {
                    "name": "Login (User)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/auth/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "type": "text/javascript",
                                "exec": [
                                    "const res = pm.response.json();",
                                    "pm.test('Status 200', () => pm.response.to.have.status(200));",
                                    "pm.test('Has token', () => pm.expect(res.data.token).to.be.a('string'));",
                                    "if (res.data && res.data.token) pm.collectionVariables.set('token', res.data.token);"
                                ]
                            }
                        }
                    ]
                },
                {
                    "name": "Admin Login ★",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/auth/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"admin@flixarion.com\",\n    \"password\": \"password123\"\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    },
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "type": "text/javascript",
                                "exec": [
                                    "const res = pm.response.json();",
                                    "pm.test('Status 200', () => pm.response.to.have.status(200));",
                                    "pm.test('Has token', () => pm.expect(res.data.token).to.be.a('string'));",
                                    "if (res.data && res.data.token) {",
                                    "    pm.collectionVariables.set('token', res.data.token);",
                                    "    pm.collectionVariables.set('admin_token', res.data.token);",
                                    "}"
                                ]
                            }
                        }
                    ]
                },
                {
                    "name": "Get My Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/auth/me",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "me"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Logout",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/auth/logout",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "logout"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Content (Public)",
            "description": "",
            "item": [
                {
                    "name": "Browse All",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/contents?per_page=20&sort=recent",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "contents"
                            ],
                            "query": [
                                {
                                    "key": "per_page",
                                    "value": "20"
                                },
                                {
                                    "key": "sort",
                                    "value": "recent"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Filter by Type",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/contents?type=movie",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "contents"
                            ],
                            "query": [
                                {
                                    "key": "type",
                                    "value": "movie"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Filter by Genre",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/contents?genre=action",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "contents"
                            ],
                            "query": [
                                {
                                    "key": "genre",
                                    "value": "action"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Sort by Trending",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/contents?sort=trending",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "contents"
                            ],
                            "query": [
                                {
                                    "key": "sort",
                                    "value": "trending"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Search",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/contents/search?q=batman",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "contents",
                                "search"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "batman"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Show Detail",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/contents/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "contents",
                                "1"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "User Library",
            "description": "",
            "item": [
                {
                    "name": "Combined Library",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/library",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "library"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "View Watchlist",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/watchlist",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "watchlist"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Add to Watchlist",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/watchlist",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "watchlist"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"content_id\": 1\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "Remove from Watchlist",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/watchlist/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "watchlist",
                                "1"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "View Favorites",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/favorites",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "favorites"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Add to Favorites",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/favorites",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "favorites"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"content_id\": 1\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "Remove from Favorites",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/favorites/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "favorites",
                                "1"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Record Play",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/history",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "history"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"content_id\": 1,\n    \"progress_seconds\": 0\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "View History",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/user/history",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "user",
                                "history"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Admin — Sources",
            "description": "",
            "item": [
                {
                    "name": "List All Sources",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/sources",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "sources"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Create Source",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/sources",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "sources"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"New Source\",\n    \"base_url\": \"http://example.com\",\n    \"scraper_type\": \"dflix\",\n    \"priority\": 9,\n    \"is_active\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "View Source",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/sources/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "sources",
                                "1"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Update Source",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/sources/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "sources",
                                "1"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"name\": \"Updated Name\",\n    \"config\": {\n        \"api_key\": \"EMBY_KEY_HERE\"\n    }\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "Delete Source",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/sources/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "sources",
                                "1"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Connection Tests",
                    "description": "",
                    "item": [
                        {
                            "name": "Test All Servers",
                            "request": {
                                "method": "GET",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/test-all",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "test-all"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Test — Dflix",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/1/test",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "1",
                                        "test"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Test — DhakaFlix (Movie)",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/2/test",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "2",
                                        "test"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Test — DhakaFlix (Series)",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/3/test",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "3",
                                        "test"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Test — RoarZone",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/4/test",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "4",
                                        "test"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Test — FTPBD",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/5/test",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "5",
                                        "test"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Test — CircleFTP",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/6/test",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "6",
                                        "test"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Test — ICC FTP",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/7/test",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "7",
                                        "test"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Test — ihub",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/8/test",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "8",
                                        "test"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        }
                    ]
                },
                {
                    "name": "Scan Jobs",
                    "description": "",
                    "item": [
                        {
                            "name": "Scan All Active Servers ★",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/scan-all",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "scan-all"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Scan — Dflix",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/1/scan",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "1",
                                        "scan"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Scan — DhakaFlix (Movie)",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/2/scan",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "2",
                                        "scan"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Scan — DhakaFlix (Series)",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/3/scan",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "3",
                                        "scan"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Scan — RoarZone",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/4/scan",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "4",
                                        "scan"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Scan — FTPBD",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/5/scan",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "5",
                                        "scan"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Scan — CircleFTP",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/6/scan",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "6",
                                        "scan"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Scan — ICC FTP",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/7/scan",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "7",
                                        "scan"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "name": "Scan — ihub",
                            "request": {
                                "method": "POST",
                                "header": [
                                    {
                                        "key": "Accept",
                                        "value": "application/json"
                                    }
                                ],
                                "url": {
                                    "raw": "{{base_url}}/admin/sources/8/scan",
                                    "host": [
                                        "{{base_url}}"
                                    ],
                                    "path": [
                                        "admin",
                                        "sources",
                                        "8",
                                        "scan"
                                    ]
                                },
                                "auth": {
                                    "type": "bearer",
                                    "bearer": [
                                        {
                                            "key": "token",
                                            "value": "{{admin_token}}",
                                            "type": "string"
                                        }
                                    ]
                                }
                            }
                        }
                    ]
                }
            ]
        },
        {
            "name": "Admin — Content",
            "description": "",
            "item": [
                {
                    "name": "List Content",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/contents?search=&status=completed",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "contents"
                            ],
                            "query": [
                                {
                                    "key": "search",
                                    "value": ""
                                },
                                {
                                    "key": "status",
                                    "value": "completed"
                                }
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Update Content Flags",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/contents/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "contents",
                                "1"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"is_featured\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "Delete Content",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/contents/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "contents",
                                "1"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Force Re-sync TMDb",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/contents/1/resync",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "contents",
                                "1",
                                "resync"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Admin — Review Queue",
            "description": "",
            "item": [
                {
                    "name": "View Queue",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/review-queue",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "review-queue"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Approve Content",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/review-queue/1/approve",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "review-queue",
                                "1",
                                "approve"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Correct TMDb ID",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/review-queue/1/correct",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "review-queue",
                                "1",
                                "correct"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"tmdb_id\": 12345\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "Reject Content",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/review-queue/1/reject",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "review-queue",
                                "1",
                                "reject"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Admin — Enrichment",
            "description": "",
            "item": [
                {
                    "name": "Enrichment Status",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/enrichment",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "enrichment"
                            ]
                        }
                    },
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "type": "text/javascript",
                                "exec": [
                                    "const res = pm.response.json();",
                                    "pm.test('Status 200', () => pm.response.to.have.status(200));",
                                    "pm.test('Has shadow_counts', () => pm.expect(res.data).to.have.property('shadow_counts'));",
                                    "console.log('Shadow counts:', JSON.stringify(res.data.shadow_counts));"
                                ]
                            }
                        }
                    ]
                },
                {
                    "name": "Pause Enrichment",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/enrichment/pause",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "enrichment",
                                "pause"
                            ]
                        }
                    }
                },
                {
                    "name": "Resume Enrichment",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/enrichment/resume",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "enrichment",
                                "resume"
                            ]
                        }
                    }
                },
                {
                    "name": "Retry Pending ★",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/enrichment/retry-pending",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "enrichment",
                                "retry-pending"
                            ]
                        }
                    }
                },
                {
                    "name": "Retry Unmatched",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/enrichment/retry-unmatched",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "enrichment",
                                "retry-unmatched"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Admin — Users",
            "description": "",
            "item": [
                {
                    "name": "List Users",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/users",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Ban User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/users/1/ban",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "1",
                                "ban"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Unban User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/users/1/unban",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "1",
                                "unban"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Reset User Password",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/users/1/reset-password",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "users",
                                "1",
                                "reset-password"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "Admin — Settings",
            "description": "",
            "item": [
                {
                    "name": "View Settings",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/settings",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "settings"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "Update Settings",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/settings",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "admin",
                                "settings"
                            ]
                        },
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{admin_token}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"tmdb_api_key\": \"\",\n    \"omdb_api_key\": \"\",\n    \"enrichment_enabled\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                }
            ]
        },
        {
            "name": "Sources (Public)",
            "description": "",
            "item": [
                {
                    "name": "List Active Sources",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/sources",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "sources"
                            ]
                        }
                    }
                },
                {
                    "name": "Submit Health Report",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/sources/health",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "sources",
                                "health"
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"source_id\": 1,\n    \"latency_ms\": 120,\n    \"is_reachable\": true\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "Submit Scan Results",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Accept",
                                "value": "application/json"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/sources/1/scan-results",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "sources",
                                "1",
                                "scan-results"
                            ]
                        },
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"files\": [\n        {\n            \"path\": \"/Movies/Inception.2010.mkv\",\n            \"filename\": \"Inception.2010.mkv\",\n            \"extension\": \"mkv\",\n            \"size\": 524288000\n        }\n    ]\n}",
                            "options": {
                                "raw": {
                                    "language": "json"
                                }
                            }
                        }
                    }
                }
            ]
        }
    ]
}